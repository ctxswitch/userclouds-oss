apiVersion: v1
kind: ConfigMap
metadata:
  name: userclouds-configs
  labels:
    {{- include "userclouds.labels" . | nindent 4 }}
data:
  base: |
    {{- .Values.config.base | toYaml | nindent 4 }}
  checkattribute: |
    {{- .Values.config.checkattribute | toYaml | nindent 4 }}
  authz: |
    {{- .Values.config.authz | toYaml | nindent 4 }}
  logserver: |
    {{- .Values.config.logserver | toYaml | nindent 4 }}
  idp: |
    {{- .Values.config.idp | toYaml | nindent 4 }}
  worker: |
    {{- .Values.config.worker | toYaml | nindent 4 }}
  console: |
    {{- .Values.config.console | toYaml | nindent 4 }}
  plex: |
    {{- .Values.config.plex | toYaml | nindent 4 }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: userclouds-provisioning
  labels:
    {{- include "userclouds.labels" . | nindent 4 }}
data:
  tenant_console.json.tmpl: |-
    {{- tpl ($.Files.Get "files/provisioning/tenant_console.json.tmpl") . | nindent 4 }}
  company.json.tmpl: |-
    {{- tpl ($.Files.Get "files/provisioning/company.json.tmpl") . | nindent 4 }}
